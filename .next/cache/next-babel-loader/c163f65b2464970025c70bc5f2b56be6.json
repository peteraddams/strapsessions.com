{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useRouter } from \"next/router\";\nimport ErrorPage from \"next/error\";\nimport BlogHeader from \"../../components/BlogHeader\";\nimport BlogBody from \"../../components/BlogBody\";\nimport MorePost from \"../../components/MorePost\";\nimport ShareButton from \"../../components/ShareButton\";\nimport { getPostBySlug, getMorePosts, getAllPostsWithSlug } from \"../../lib/index\";\nimport { Container, Grid, Typography } from \"@material-ui/core\";\nimport Navbar from \"../../components/Layout/Navbar\";\nexport async function getStaticPaths() {\n  var _allPosts$map;\n\n  const allPosts = await getAllPostsWithSlug();\n  return {\n    paths: (_allPosts$map = allPosts === null || allPosts === void 0 ? void 0 : allPosts.map(({\n      slug\n    }) => `/blog/${slug}`)) !== null && _allPosts$map !== void 0 ? _allPosts$map : [],\n    fallback: true\n  };\n}\nexport async function getStaticProps({\n  params\n}) {\n  const post = await getPostBySlug(params.slug);\n  const morePosts = await getMorePosts(params.slug);\n  return {\n    props: {\n      post: post ? post : null,\n      morePosts: morePosts ? morePosts : null\n    },\n    revalidate: 1\n  };\n}\n\nconst Blog = ({\n  post,\n  morePosts\n}) => {\n  const router = useRouter();\n\n  if (!router.isFallback && !post) {\n    return __jsx(ErrorPage, {\n      statusCode: 404\n    });\n  }\n\n  return __jsx(\"div\", null, __jsx(Navbar, null), __jsx(BlogHeader, {\n    title: post === null || post === void 0 ? void 0 : post.fields.title,\n    subtitle: post === null || post === void 0 ? void 0 : post.fields.subTitle,\n    authorName: post === null || post === void 0 ? void 0 : post.fields.author.fields.name,\n    authorImage: post === null || post === void 0 ? void 0 : post.fields.author.fields.image.fields.file.url,\n    slug: post === null || post === void 0 ? void 0 : post.fields.slug,\n    date: post === null || post === void 0 ? void 0 : post.fields.date,\n    coverImage: post === null || post === void 0 ? void 0 : post.fields.coverImage.fields.file.url\n  }), __jsx(BlogBody, {\n    content: post === null || post === void 0 ? void 0 : post.fields.content\n  }), __jsx(Container, {\n    maxWidth: \"lg\",\n    style: {\n      marginTop: \"8em\"\n    }\n  }, __jsx(Grid, {\n    container: true,\n    direction: \"column\",\n    alignItems: \"center\"\n  }, __jsx(Grid, {\n    item: true\n  }, __jsx(Typography, {\n    align: \"center\",\n    gutterBottom: true,\n    style: {\n      fontSize: \"1.5rem\",\n      fontWeight: \"bold\"\n    }\n  }, \"- Share -\"), __jsx(ShareButton, {\n    url: `https://strapsessions/blog/${post === null || post === void 0 ? void 0 : post.fields.slug}`\n  }))), __jsx(Typography, {\n    align: \"center\",\n    gutterBottom: true,\n    style: {\n      fontSize: \"1.5rem\",\n      fontWeight: \"bold\",\n      margin: \"3em 0 1.5em\",\n      borderBottom: \"2px solid rgb(208 208 208)\"\n    }\n  }, \"- Recent Entries -\"), __jsx(Grid, {\n    container: true,\n    spacing: 4,\n    justify: \"center\"\n  }, morePosts === null || morePosts === void 0 ? void 0 : morePosts.map(({\n    fields\n  }) => __jsx(Grid, {\n    item: true,\n    key: fields.slug,\n    xs: 12,\n    md: 4\n  }, __jsx(Grid, {\n    container: true\n  }, __jsx(MorePost, {\n    title: fields.title,\n    subtitle: fields.subTitle,\n    authorName: fields.author.fields.name,\n    authorImage: fields.author.fields.image.fields.file.url,\n    slug: fields.slug,\n    date: fields.date,\n    coverImage: fields.coverImage.fields.file.url\n  })))))));\n};\n\nexport default Blog;","map":null,"metadata":{},"sourceType":"module"}